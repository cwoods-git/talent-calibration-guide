<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing XLT Talent Review Offsite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        .tabs {
            display: flex;
            border-bottom: 2px solid #ddd;
            margin-bottom: 20px;
        }
        .tab-button {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background-color: #eee;
            border-radius: 8px 8px 0 0;
            margin-right: 5px;
            font-size: 16px;
            font-weight: bold;
        }
        .tab-button.active {
            background-color: #fff;
            border-top: 2px solid #ddd;
            border-left: 2px solid #ddd;
            border-right: 2px solid #ddd;
            border-bottom: none;
            position: relative;
            top: 2px;
        }
        .tab-content {
            display: none;
            padding-top: 20px;
        }
        .tab-content.active {
            display: block;
        }
        .section-title {
            color: #7A00FF;
            border-bottom: 2px solid #7A00FF;
            padding-bottom: 5px;
            margin-top: 30px;
        }
        h1 {
            color: #E6007A;
        }
        /* Grid-specific styles from your code */
        .grid-cell {
            min-height: 12rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 1px solid #e5e7eb;
            user-select: none;
        }
        .grid-cell:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            position: relative;
        }

        /* Centering the grid and adjusting arrows */
        #grid {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .grid-container-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .grid-and-axes {
            display: flex;
            align-items: flex-end;
        }
        .y-axis {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            margin-right: 0.5rem;
            position: relative;
            height: calc(3 * 12rem + 2 * 1px);
        }
        .x-axis {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 0.5rem;
            position: relative;
            width: calc(3 * 12rem + 2 * 1px);
        }
        .y-axis-label {
            position: absolute;
            top: 50%;
            left: -2.5rem;
            transform: translateY(-50%) rotate(-90deg);
            white-space: nowrap;
            font-weight: bold;
            font-size: 1.125rem;
            color: #4b5563;
        }
        .x-axis-label {
            position: absolute;
            bottom: -2.5rem;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-weight: bold;
            font-size: 1.125rem;
            color: #4b5563;
        }
        /* Custom SVG arrow styles for length and thickness */
        .axis-arrow-svg {
            stroke: #4b5563;
            stroke-width: 2;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .y-arrow-line {
            height: 100%;
            width: 20px;
        }
        .x-arrow-line {
            width: 100%;
            height: 20px;
        }

        /* To properly calculate the dimensions of the grid for the axes */
        .grid-main {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 1px;
            border-collapse: collapse;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            background-color: #e5e7eb;
        }
        .grid-cell {
            min-height: 12rem;
            border: none;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="tabs">
            <button class="tab-button active" onclick="openTab(event, 'overview')">Overview</button>
            <button class="tab-button" onclick="openTab(event, 'framework')">9-Box Framework</button>
            <button class="tab-button" onclick="openTab(event, 'grid')">Interactive Grid</button>
        </div>

        <div id="overview" class="tab-content active">
            <h1>Marketing XLT Talent Review Offsite</h1>
            <p>
                This offsite is designed to initiate talent review for the Marketing Organization. It's a foundational session that will help the Marketing XLT identify team members ready for a larger scope or challenge, and lay the groundwork for the upcoming Winter Talent Evaluation Cycle.
            </p>
            <h2 class="section-title">Session Objectives</h2>
            <ul>
                <li>Create a safe space to share candid feedback and observations.</li>
                <li>Learn and reference the 9-box framework.</li>
                <li>Calibrate ratings with peers.</li>
            </ul>
        </div>

        <div id="framework" class="tab-content">
            <h1>The 9-Box Framework</h1>
            <p>
                The 9-Box framework is a talent management tool used to assess an individual's performance and potential within the organization. This session is designed to help members of the MXLT learn about this framework and get curious about how others think about evaluations.
            </p>
            
            <h2 class="section-title">What is Performance?</h2>
            <p>
                Performance is about **what** was achieved. When evaluating performance, you should consider the employee's Annual Performance Plan and OKRs. Lyft's performance ratings include:
            </p>
            <ul>
                <li>**Needs Improvement (NI):** Did not perform against their level requirements, delivering inconsistent and, at times, poor results.</li>
                <li>**Meets Most Expectations (MME):** Performed against most of their level requirements with clear areas for improvement.</li>
                <li>**Met Expectations (ME):** Consistently performed against, and at times, may have exceeded their level requirements.</li>
                <li>**Exceeded Expectations (EE):** Consistently exceeded performance beyond their level requirements.</li>
                <li>**Strongly Exceeded Expectations (SEE):** Overall performance may have solidly met or even exceeded requirements at the next level.</li>
            </ul>

            <h2 class="section-title">What is Potential?</h2>
            <p>
                Potential is about **how** goals were achieved. This is evaluated based on whether the employee role-modeled the organization's Behavioral Competencies and embodied Lyft's core values.
            </p>
            <p>
                The four core values are:
            </p>
            <ul>
                <li>**We are customer obsessed:** Look at the world through our customersâ€™ eyes.</li>
                <li>**We strive for excellence:** Push the boundaries of what is possible for yourself, your peers and your team.</li>
                <li>**We are accountable:** Set clear, time-bound goals for success.</li>
                <li>**We all belong:** Speak honestly and with respect.</li>
            </ul>
        </div>

        <div id="grid" class="tab-content">
            <header class="mb-8 text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-2">9-Box Performance Ratings</h1>
                <p class="text-xl text-gray-600">Click a box to learn more about each performance category.</p>
            </header>
            
            <div class="grid-container-wrapper">
                <div class="grid-and-axes">
                    <div class="y-axis">
                        <span id="behaviourButton" class="y-axis-label">Lyft Values and Behaviors</span>
                        <svg class="y-arrow-line axis-arrow-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 150">
                            <line x1="12" y1="150" x2="12" y2="0"/>
                            <polyline points="5 20 12 0 19 20"/>
                        </svg>
                    </div>

                    <div class="grid-main rounded-lg">
                        <div class="grid-cell bg-yellow-200 hover:bg-yellow-300 rounded-tl-lg" data-box="enigma">
                            <h2 class="font-bold text-lg md:text-xl">ENIGMA</h2>
                        </div>
                        <div class="grid-cell bg-green-200 hover:bg-green-300" data-box="growth-employee">
                            <h2 class="font-bold text-lg md:text-xl">GROWTH EMPLOYEE</h2>
                        </div>
                        <div class="grid-cell bg-lime-200 hover:bg-lime-300 rounded-tr-lg" data-box="star">
                            <h2 class="font-bold text-lg md:text-xl">STAR</h2>
                        </div>
            
                        <div class="grid-cell bg-red-200 hover:bg-red-300" data-box="assess">
                            <h2 class="font-bold text-lg md:text-xl">ASSESS</h2>
                        </div>
                        <div class="grid-cell bg-orange-200 hover:bg-orange-300" data-box="solid-performer">
                            <h2 class="font-bold text-lg md:text-xl">SOLID PERFORMER</h2>
                        </div>
                        <div class="grid-cell bg-lime-200 hover:bg-lime-300" data-box="high-impact">
                            <h2 class="font-bold text-lg md:text-xl">HIGH IMPACT CONTRIBUTOR</h2>
                        </div>
            
                        <div class="grid-cell bg-red-200 hover:bg-red-300 rounded-bl-lg" data-box="underperformer">
                            <h2 class="font-bold text-lg md:text-xl">UNDERPERFORMER</h2>
                        </div>
                        <div class="grid-cell bg-orange-200 hover:bg-orange-300" data-box="effective-performer">
                            <h2 class="font-bold text-lg md:text-xl">EFFECTIVE PERFORMANCE</h2>
                        </div>
                        <div class="grid-cell bg-yellow-200 hover:bg-yellow-300 rounded-br-lg" data-box="trusted-professional">
                            <h2 class="font-bold text-lg md:text-xl">TRUSTED PROFESSIONAL</h2>
                        </div>
                    </div>
                </div>
                
                <div class="x-axis">
                    <span id="performanceButton" class="x-axis-label">Performance</span>
                    <svg class="x-arrow-line axis-arrow-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 24">
                        <line x1="0" y1="12" x2="150" y2="12"/>
                        <polyline points="130 5 150 12 130 19"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <div id="modalOverlay" class="modal-overlay">
        <div class="modal-content shadow-2xl">
            <button id="closeModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-3xl font-light">&times;</button>
            <h3 id="modalTitle" class="text-3xl font-bold mb-2 text-gray-800"></h3>
            <p id="modalLyftRating" class="text-xl font-medium text-gray-700 mb-6"></p>
            <p id="modalDescription" class="text-lg text-gray-700 leading-relaxed mb-6"></p>
            <div id="modalMoreContent" class="bg-gray-100 p-4 rounded-lg">
                <h4 class="font-semibold text-xl mb-2 text-gray-700">Manager Toolkit Discussion Prompts</h4>
                <ul id="modalList" class="list-disc list-inside text-gray-600">
                </ul>
            </div>
        </div>
    </div>

    <div id="lyftValuesModal" class="modal-overlay">
        <div class="modal-content shadow-2xl">
            <button id="closeValuesModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-3xl font-light">&times;</button>
            <h3 class="text-3xl font-bold mb-4 text-gray-800">Lyft Values in Action</h3>

            <div class="flex flex-col md:flex-row gap-4 mb-6">
                <div class="flex-1">
                    <label for="valueCategory" class="block text-gray-700 font-semibold mb-2">Select a Value:</label>
                    <select id="valueCategory" class="w-full p-2 border rounded-md">
                        <option value="">Select...</option>
                        <option value="customerObsessed">We Are Customer Obsessed</option>
                        <option value="excellence">We Strive For Excellence</option>
                        <option value="accountable">We Are Accountable</option>
                        <option value="belong">We All Belong</option>
                    </select>
                </div>
                <div class="flex-1">
                    <label for="valueLevel" class="block text-gray-700 font-semibold mb-2">Select a Level:</label>
                    <select id="valueLevel" class="w-full p-2 border rounded-md">
                        <option value="">Select...</option>
                        <option value="1">Level 1</option>
                        <option value="2">Level 2</option>
                        <option value="3">Level 3</option>
                        <option value="4">Level 4</option>
                        <option value="5">Level 5</option>
                    </select>
                </div>
            </div>

            <div id="valuesDisplay" class="bg-gray-100 p-6 rounded-lg hidden">
                <h4 class="text-xl font-semibold mb-2" id="valuesTitle"></h4>
                <p class="text-gray-800 leading-relaxed" id="valuesDefinition"></p>
                <div id="valuesLevels" class="mt-4">
                    <h5 class="text-lg font-semibold mb-1" id="levelTitle"></h5>
                    <p class="text-gray-800 leading-relaxed" id="valuesDescription"></p>
                </div>
            </div>
        </div>
    </div>

    <div id="performanceModal" class="modal-overlay">
        <div class="modal-content shadow-2xl">
            <button id="closePerformanceModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-3xl font-light">&times;</button>
            <h3 class="text-3xl font-bold mb-4 text-gray-800">Lyft Career Paths</h3>
            
            <p class="text-lg text-gray-700 leading-relaxed mb-6">When assessing a Team Member's performance, you should refer to the skills and expectations outlined in the Career Paths guide.</p>
            <div class="flex flex-col gap-6">
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 1</h4>
                    <p class="text-gray-700 mb-2 font-semibold">General Scope of Work:</p>
                    <p class="text-gray-600 italic">- Completes task-oriented work.<br>- Follows defined practices and processes.<br>- Work is reviewed frequently to provide support and develop skills.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 2</h4>
                    <p class="text-gray-700 mb-2 font-semibold">General Scope of Work:</p>
                    <p class="text-gray-600 italic">- Executes tasks with a basic understanding of how they fit into the bigger picture.<br>- Follows existing practices and processes but can identify and recommend improvements with supervision.<br>- Seeks feedback and applies learnings.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 3</h4>
                    <p class="text-gray-700 mb-2 font-semibold">Typical Role & Scope:</p>
                    <p class="text-gray-600 italic">Associate Product Manager with impact on a single **Feature** (e.g., Lost & Found).</p>
                    <p class="text-gray-700 mb-2 font-semibold mt-4">General Scope of Work:</p>
                    <p class="text-gray-600 italic">Learns how to effectively build or optimize features, and executes new features or changes to existing features with help.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 4</h4>
                    <p class="text-gray-700 mb-2 font-semibold">Typical Role & Scope:</p>
                    <p class="text-gray-600 italic">Product Manager with impact on **Multiple Features**.</p>
                    <p class="text-gray-700 mb-2 font-semibold mt-4">General Scope of Work:</p>
                    <p class="text-gray-600 italic">Owns Product for well-defined problems and excels with some Manager oversight.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 5</h4>
                    <p class="text-gray-700 mb-2 font-semibold">Typical Role & Scope:</p>
                    <p class="text-gray-600 italic">Product Manager with impact on a **Product** (e.g., In-App Nav).</p>
                    <p class="text-gray-700 mb-2 font-semibold mt-4">General Scope of Work:</p>
                    <p class="text-gray-600 italic">Owns Product for defined scope with ambiguous problems and excels with minimal Manager oversight.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 6</h4>
                    <p class="text-gray-700 mb-2 font-semibold">Typical Role & Scope:</p>
                    <p class="text-gray-600 italic">Product Manager with impact on **Multiple Products** (e.g., Fraud).</p>
                    <p class="text-gray-700 mb-2 font-semibold mt-4">General Scope of Work:</p>
                    <p class="text-gray-600 italic">Owns Product(s) for less defined scope with increasingly complex problems and effectively executes independently across Lyft.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 7</h4>
                    <p class="text-gray-700 mb-2 font-semibold">Typical Role & Scope:</p>
                    <p class="text-gray-600 italic">Product Manager with impact on a **Product Line** (e.g., Pay Teams).</p>
                    <p class="text-gray-700 mb-2 font-semibold mt-4">General Scope of Work:</p>
                    <p class="text-gray-600 italic">Owns Product(s) that solve the hardest problems for Lyft and sets the bar for product culture and excellence.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 8 (D1)</h4>
                    <p class="text-gray-700 mb-2 font-semibold">Typical Role & Scope:</p>
                    <p class="text-gray-600 italic">Director, Product Management with impact on a **Department-wide / Focus Area** (e.g., Pay, Fraud, Identity).</p>
                    <p class="text-gray-700 mb-2 font-semibold mt-4">General Scope of Work:</p>
                    <p class="text-gray-600 italic">Sets the vision and the strategy for the focus area to elevate teamâ€™s contribution to company vision and goals. Coordinates efforts across the company.</p>
                </div>
                <div class="p-6 rounded-lg bg-pink-100 border-l-4 border-pink-500">
                    <h4 class="text-2xl font-bold text-pink-700 mb-2">Level 9 (D2)</h4>
                    <p class="text-gray-700 mb-2 font-semibold">Typical Role & Scope:</p>
                    <p class="text-gray-600 italic">Director, Product Management with impact on a **Company-wide / Industry** (e.g., LBS).</p>
                    <p class="text-gray-700 mb-2 font-semibold mt-4">General Scope of Work:</p>
                    <p class="text-gray-600 italic">Is a sought-after coach and mentor. Provides leadership and direction through other leaders. Builds strong organizations and functions that accelerate growth and deliver results at the company level.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data for each of the 9 boxes
        const boxData = {
            'enigma': {
                title: 'ENIGMA',
                lyftRating: 'Meets Most Expectations',
                description: 'A seasoned professional that exhibits exceptional behaviors and core values, but may be experiencing performance problems that require coaching and training, not just mentoring, to reach performance expectations.',
                prompts: [
                    'Find root cause of performance problems and collaborate on a development plan to address identified deficiencies.',
                    'Make their developmental plan contingent on performance improvement. Try including efforts to give them the technical skills they need to perform at the required level.'
                ]
            },
            'growth-employee': {
                title: 'GROWTH EMPLOYEE',
                lyftRating: 'Exceeds Expectations',
                description: 'Does extremely well at their current job with potential to do more. They exhibit exceptional behaviors and core values. Provide stretch assignments related to strategy setting and/or "outside-the-box" thinking to help prepare for their next role or level.',
                prompts: [
                    'Match to a high-performing mentor at least one level up who can help them along the path.',
                    'Provide assignments where they have a chance to step in and resolve conflicts or inefficiencies in a problem area or task them to do a "clean up" in an area of disrepair.',
                    'Make short-term job rotations or job swaps readily available to them; give them a chance to operate in a new role.'
                ]
            },
            'star': {
                title: 'STAR',
                lyftRating: 'Strongly Exceeds Expectations',
                description: 'Consistently exhibits outstanding performance in all assignments. This person takes initiative on stretch goals above and beyond their role and is a big-picture thinker, problem solver, and self-motivated. They consistently exhibit exceptional behaviors and core values, and embody the role of a Culture Catalyst.',
                prompts: [
                    'Give them challenging, stretch assignments doing things nobody else has done.',
                    'Grant them access to exclusive training opportunities, send them to national or international conferences.',
                    'Consider forming a cross-functional association among Stars that serves to build relationships.',
                    'Enable exposure to senior leaders and governance structures.',
                    'Provide them with shadowing opportunities.'
                ]
            },
            'assess': {
                title: 'ASSESS',
                lyftRating: 'Needs Improvement',
                description: 'With coaching, they could reach performance expectations (since their performance is low, prior to progression) and progress within their level. They may be experiencing performance problems that require coaching and training, not just mentoring. They exhibit appropriate behaviors and core values.',
                prompts: [
                    'Seek out root causes for the performance issues and encourage the employee to develop and own an action plan for remedying deficits.'
                ]
            },
            'solid-performer': {
                title: 'SOLID PERFORMER',
                lyftRating: 'Meets Expectations',
                description: 'This employee consistently meets job expectations while exhibiting appropriate behaviors. They do well at their current job and may be considered for job enlargement at the same level, but may need coaching in several areas, including leadership (thought, technical and people).',
                prompts: [
                    'Provide coaching and training that builds both technical expertise and leadership skill.',
                    'Give them short-term assignments or projects that expose them to the types of challenges they\'ll face at the next level.',
                    'Ensure that they know they are valued, listen to their ideas and monitor their behavior for signs of complacence or dissatisfaction.'
                ]
            },
            'high-impact': {
                title: 'HIGH IMPACT CONTRIBUTOR',
                lyftRating: 'Exceeds Expectations',
                description: 'This person does extremely well at their current job and often exceeds expectations. They currently focus on tactical work and have an opportunity for growth and development. Coach them toward helping improve overall strategy setting and influencing skills.',
                prompts: [
                    'Look to provide them with "stretch" assignments.',
                    'Find a mentor for them that is at least one level up on your organization chart.',
                    'Promote relationship building among other high performing talent in your Nine-Box.',
                    'Make short-term job rotations or job swaps readily available to them; give them a chance to operate in a new role.'
                ]
            },
            'underperformer': {
                title: 'UNDERPERFORMER',
                lyftRating: 'Needs Improvement',
                description: 'This employee is not capable of delivering against current role requirements and exhibits weak and/or poor behaviors. You should consider reassignment to a lower level or exiting them from the organization.',
                prompts: [
                    'Find root cause of performance problems and collaborate on a development plan to address identified deficiencies.',
                    'If addressing performance barriers and action planning do not work, consider exiting them out of the organization.'
                ]
            },
            'effective-performer': {
                title: 'EFFECTIVE PERFORMANCE',
                lyftRating: 'Meets Most Expectations',
                description: 'An effective employee who is performing at their perceived growth potential. They do not naturally demonstrate appropriate behaviors. You should provide coaching opportunities to encourage different ways of thinking.',
                prompts: [
                    'Encourage them to formulate action plans that improve performance and/or enhance the limited potential they presently display.'
                ]
            },
            'trusted-professional': {
                title: 'TRUSTED PROFESSIONAL',
                lyftRating: 'Meets Expectations',
                description: 'A consistent high performer who has reached their limit of growth potential. They are a valuable employee and can be encouraged to continue to develop. They do extremely well at their current job.',
                prompts: [
                    'Encourage their retention as a key asset in their present role. Watch for signs of boredom, lack of challenge and other retention risks.',
                    'Have them take the lead on presenting information or explaining processes to others.',
                    'Provide them with opportunities to develop where they can grow a deeper and broader skill set and knowledge base.',
                    'Utilize their assets toward teaching or coaching others.'
                ]
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const modalOverlay = document.getElementById('modalOverlay');
            const modalTitle = document.getElementById('modalTitle');
            const modalLyftRating = document.getElementById('modalLyftRating');
            const modalDescription = document.getElementById('modalDescription');
            const modalList = document.getElementById('modalList');
            const closeModalBtn = document.getElementById('closeModal');
            const gridCells = document.querySelectorAll('.grid-cell');
            
            const behaviourButton = document.getElementById('behaviourButton');
            const lyftValuesModal = document.getElementById('lyftValuesModal');
            const closeValuesModalBtn = document.getElementById('closeValuesModal');
            const valueCategorySelect = document.getElementById('valueCategory');
            const valueLevelSelect = document.getElementById('valueLevel');
            const valuesDisplay = document.getElementById('valuesDisplay');
            const valuesTitle = document.getElementById('valuesTitle');
            const valuesDefinition = document.getElementById('valuesDefinition');
            const valuesDescription = document.getElementById('valuesDescription');

            const performanceButton = document.getElementById('performanceButton');
            const performanceModal = document.getElementById('performanceModal');
            const closePerformanceModalBtn = document.getElementById('closePerformanceModal');

            // Tab switching logic
            function openTab(evt, tabName) {
                var i, tabcontent, tabbuttons;
                tabcontent = document.getElementsByClassName("tab-content");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tabbuttons = document.getElementsByClassName("tab-button");
                for (i = 0; i < tabbuttons.length; i++) {
                    tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
                }
                document.getElementById(tabName).style.display = "block";
                evt.currentTarget.className += " active";
            }
            window.openTab = openTab;

            // 9-box modal logic
            gridCells.forEach(cell => {
                cell.addEventListener('click', () => {
                    const boxKey = cell.dataset.box;
                    const data = boxData[boxKey];
                    if (data) {
                        modalTitle.textContent = data.title;
                        modalLyftRating.innerHTML = `Lyft Rating: ${data.lyftRating}`;
                        modalDescription.innerHTML = data.description;

                        modalList.innerHTML = '';
                        data.prompts.forEach(prompt => {
                            const li = document.createElement('li');
                            li.textContent = prompt;
                            modalList.appendChild(li);
                        });

                        modalOverlay.style.display = 'flex';
                    }
                });
            });

            closeModalBtn.addEventListener('click', () => {
                modalOverlay.style.display = 'none';
            });

            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    modalOverlay.style.display = 'none';
                }
            });

            // Lyft Values modal logic
            if (behaviourButton) {
                behaviourButton.addEventListener('click', () => {
                    lyftValuesModal.style.display = 'flex';
                    valueCategorySelect.value = '';
                    valueLevelSelect.value = '';
                    valuesDisplay.classList.add('hidden');
                });
            }
            
            if (closeValuesModalBtn) {
                closeValuesModalBtn.addEventListener('click', () => {
                    lyftValuesModal.style.display = 'none';
                });
            }

            if (lyftValuesModal) {
                lyftValuesModal.addEventListener('click', (e) => {
                    if (e.target === lyftValuesModal) {
                        lyftValuesModal.style.display = 'none';
                    }
                });
            }

            function updateValuesDisplay() {
                const category = valueCategorySelect.value;
                const level = valueLevelSelect.value;
                
                if (category && lyftValues[category]) {
                    const value = lyftValues[category];
                    const definition = value.definition;
                    const description = value.levels[level];

                    valuesTitle.textContent = valueCategorySelect.options[valueCategorySelect.selectedIndex].text;
                    valuesDefinition.innerHTML = definition;
                    
                    if (description) {
                        document.getElementById('levelTitle').textContent = `Level ${level}`;
                        valuesDescription.innerHTML = description;
                        valuesDisplay.classList.remove('hidden');
                    } else {
                         document.getElementById('levelTitle').textContent = ``;
                         valuesDescription.innerHTML = 'Select a level to see the behaviors.';
                         valuesDisplay.classList.remove('hidden');
                    }
                } else {
                    valuesDisplay.classList.add('hidden');
                }
            }

            valueCategorySelect.addEventListener('change', updateValuesDisplay);
            valueLevelSelect.addEventListener('change', updateValuesDisplay);

            // Performance modal logic
            if (performanceButton) {
                performanceButton.addEventListener('click', () => {
                    performanceModal.style.display = 'flex';
                });
            }

            if (closePerformanceModalBtn) {
                closePerformanceModalBtn.addEventListener('click', () => {
                    performanceModal.style.display = 'none';
                });
            }

            if (performanceModal) {
                performanceModal.addEventListener('click', (e) => {
                    if (e.target === performanceModal) {
                        performanceModal.style.display = 'none';
                    }
                });
            }
        });
    </script>
</body>
</html>
